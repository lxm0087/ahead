<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>历史管理之hash</title>
  </head>
  <body>
      <button type="button" name="button" id='btn'>点击切换</button>
      <div class="" id='shuzi'>

      </div>

      <script type="text/javascript">
        var oDiv =document.getElementById('shuzi');
        var _json = {};
        function rangNum(iNow,iNew) {
            var arr = [],narr=[];
            for(var i=1;i<=iNow;i++){
              arr.push(i);
            }

            for(var j=1;j<=iNew;j++){
              narr.push(Math.floor(arr.splice(Math.random()*arr.length,1)));
            }
                return   narr;
        }
        oBtn = document.getElementById('btn');
        oBtn.onclick = function(){

          var arr      = rangNum(35,7);
          var num = Math.random();
          _json[num] = arr;
          oDiv.innerHTML = arr;
              window.location.hash = num;

        }
       window.onhashchange = function(){
           oDiv.innerHTML =_json[window.location.hash.substring(1)];
       }
      </script>
  </body>
</html>
