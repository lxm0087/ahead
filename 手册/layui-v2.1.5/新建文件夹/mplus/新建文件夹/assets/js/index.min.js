layui.use(["element","jquery","common","util"],function(){var b=layui.element(),d=layui.jquery,c=layui.common;var a=new Array();var e={closeTab:function(){var g=d(this).data("name");var f=d.inArray(g,a);b.tabDelete("page-tab",f);a[f]=null},signOut:function(){c.signOut("确认退出系统？","为保存的操作将丢失！",function(){window.location.href="login.html"})}};d(".layui-nav").on("click",".tab-open",function(){var f=d(".page-tab>.layui-tab-title li");d(f).each(function(i,j){a[i]=d(j).text().substr(0,d(j).text().trim().length-2)});var h=d.inArray(d(this).text(),a);if(h!=-1){b.tabChange("page-tab",h)}else{b.tabAdd("page-tab",{title:d(this).text()+" <i class='layui-icon close-tab' data-name='"+d(this).text()+"' data-type='closeTab'>&#x1007;</i>",content:"<iframe class='tab-main' src='"+d(this).data("href")+"'></iframe>"});var g=d(".page-tab .layui-tab-item").length;b.tabChange("page-tab",g-1);changeIframeHeight()}});d("#go-dashboard").on("click",function(f){b.tabChange("page-tab",0)});d(".page-tab").on("click",".close-tab",function(){var f=d(this).data("type");e[f]?e[f].call(this):""});d("body").on("click",".sign-out, .do-action",function(){var f=d(this).data("type");e[f]?e[f].call(this):""});d(document).ready(function(){f();function f(){if(d(document).width()<=900){d(".layui-nav").eq(0).removeClass("layui-nav-tree");d(".layui-nav").eq(0).removeClass("layui-nav-side");var g=d(".layui-nav-item");d(g).each(function(h,i){if(h>0){d(i).removeClass("layui-nav-itemed")}})}else{d(".layui-nav").eq(0).addClass("layui-nav-tree");d(".layui-nav").eq(0).addClass("layui-nav-side");var g=d(".layui-nav-item");d(g).each(function(h,i){if(h>0){d(i).addClass("layui-nav-itemed")}})}}d(window).resize(function(){f()})})});changeContentHeight();changeIframeHeight();window.onresize=function(){changeContentHeight();changeIframeHeight()};function changeContentHeight(){var a=document.getElementById("page-content");a.height=document.documentElement.clientHeight}function changeIframeHeight(){var b=document.getElementsByClassName("tab-main");for(var a=0;a<=b.length;a++){b[a].height=document.documentElement.clientHeight-120}};